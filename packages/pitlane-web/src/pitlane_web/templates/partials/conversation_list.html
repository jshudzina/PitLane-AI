<style>
    .conversation-list {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        max-height: 400px;
        overflow-y: auto;
    }

    .conversation-list:empty::after {
        content: "No previous conversations";
        color: #888;
        text-align: center;
        padding: 1rem;
    }

    .conversation-item {
        padding: 0.75rem 1rem;
        background: #2d2d2d;
        border: 1px solid #444;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
    }

    .conversation-item:hover {
        background: #3d3d3d;
        border-color: #e10600;
    }

    .conversation-item.active {
        border-color: #e10600;
        background: #3d2020;
    }

    .conversation-title {
        font-weight: 600;
        margin-bottom: 0.25rem;
        color: #fff;
    }

    .conversation-meta {
        font-size: 0.8rem;
        color: #888;
    }

    .conversation-preview {
        font-size: 0.85rem;
        color: #aaa;
        margin-top: 0.5rem;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .empty-state {
        text-align: center;
        padding: 2rem;
        color: #888;
    }
</style>

<div class="conversation-list">
    {% if conversations %}
        {% for conv in conversations %}
        <div class="conversation-item {% if conv.id == active_id %}active{% endif %}"
             data-conversation-id="{{ conv.id }}"
             hx-post="/api/conversations/{{ conv.id }}/resume"
             hx-target="#conversation-status"
             hx-swap="innerHTML">
            <div class="conversation-title">{{ conv.title }}</div>
            <div class="conversation-meta">
                {{ conv.message_count }} message{% if conv.message_count != 1 %}s{% endif %} &middot;
                {{ conv.last_message_at | timeago }}
            </div>
            <div class="conversation-preview">{{ conv.preview }}</div>
        </div>
        {% endfor %}
    {% else %}
        <div class="empty-state">
            No previous conversations yet.<br>
            Start chatting to create your first conversation.
        </div>
    {% endif %}
</div>
